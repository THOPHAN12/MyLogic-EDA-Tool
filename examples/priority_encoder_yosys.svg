<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="600" viewBox="0 0 800 600">
  <defs>
    <style>
      .module-box { fill: #e1f5fe; stroke: #01579b; stroke-width: 2; }
      .port-box { fill: #f3e5f5; stroke: #4a148c; stroke-width: 1; }
      .cell-box { fill: #fff3e0; stroke: #e65100; stroke-width: 1; }
      .text { font-family: Arial, sans-serif; font-size: 12px; }
      .title { font-size: 16px; font-weight: bold; }
      .port-text { font-size: 10px; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="text title" fill="#1976d2">
    Circuit Diagram: priority_encoder
  </text>
  
  <!-- Module Box -->
  <rect x="50" y="60" width="700" height="500" class="module-box" rx="10"/>
  <text x="400" y="85" text-anchor="middle" class="text title" fill="#01579b">
    priority_encoder
  </text>

  <!-- Port: in -->
  <rect x="70" y="120" width="100" height="30" class="port-box" fill="#4caf50"/>
  <text x="120" y="140" text-anchor="middle" class="text port-text" fill="white">
    in (input)
  </text>
  <text x="180" y="140" class="text port-text" fill="#666">
    bits: [1, 2, 3, 4, 5, 6, 7, 8]
  </text>

  <!-- Port: out -->
  <rect x="70" y="160" width="100" height="30" class="port-box" fill="#f44336"/>
  <text x="120" y="180" text-anchor="middle" class="text port-text" fill="white">
    out (output)
  </text>
  <text x="180" y="180" class="text port-text" fill="#666">
    bits: [1001, 1002, 1003]
  </text>

  <!-- Port: valid -->
  <rect x="70" y="200" width="100" height="30" class="port-box" fill="#f44336"/>
  <text x="120" y="220" text-anchor="middle" class="text port-text" fill="white">
    valid (output)
  </text>
  <text x="180" y="220" class="text port-text" fill="#666">
    bits: [1101]
  </text>

  <!-- Cell: $mylogic$0 -->
  <rect x="200" y="300" width="150" height="40" class="cell-box"/>
  <text x="275" y="315" text-anchor="middle" class="text" fill="#e65100">
    $mylogic$0
  </text>
  <text x="275" y="330" text-anchor="middle" class="text" fill="#e65100">
    $_MUX_
  </text>

  <text x="370" y="320" class="text port-text" fill="#666">
    
  </text>

  <!-- Cell: $mylogic$1 -->
  <rect x="200" y="360" width="150" height="40" class="cell-box"/>
  <text x="275" y="375" text-anchor="middle" class="text" fill="#e65100">
    $mylogic$1
  </text>
  <text x="275" y="390" text-anchor="middle" class="text" fill="#e65100">
    $_BUF_
  </text>

  <text x="370" y="380" class="text port-text" fill="#666">
    A:['mux_0'] Y:['$mylogic$2_out']
  </text>

  <!-- Cell: $mylogic$2 -->
  <rect x="200" y="420" width="150" height="40" class="cell-box"/>
  <text x="275" y="435" text-anchor="middle" class="text" fill="#e65100">
    $mylogic$2
  </text>
  <text x="275" y="450" text-anchor="middle" class="text" fill="#e65100">
    $_MUX_
  </text>

  <text x="370" y="440" class="text port-text" fill="#666">
    
  </text>

  <!-- Cell: $mylogic$3 -->
  <rect x="200" y="480" width="150" height="40" class="cell-box"/>
  <text x="275" y="495" text-anchor="middle" class="text" fill="#e65100">
    $mylogic$3
  </text>
  <text x="275" y="510" text-anchor="middle" class="text" fill="#e65100">
    $_BUF_
  </text>

  <text x="370" y="500" class="text port-text" fill="#666">
    A:['mux_2'] Y:['$mylogic$4_out']
  </text>

  <!-- Netnames -->
  <text x="70" y="480" class="text" fill="#1976d2">Netnames:</text>

  <text x="70" y="500" class="text port-text" fill="#666">
    in: [1, 2, 3, 4, 5, 6, 7, 8]
  </text>

  <text x="70" y="515" class="text port-text" fill="#666">
    out: [9, 10, 11]
  </text>

  <text x="70" y="530" class="text port-text" fill="#666">
    valid: [12]
  </text>

</svg>